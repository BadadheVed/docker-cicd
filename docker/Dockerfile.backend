FROM oven/bun:1 AS base

WORKDIR /home

COPY package.json bun.lock turbo.json ./
COPY packages ./packages
COPY apps/backend apps/backend

RUN bun install

WORKDIR /home/apps/backend
RUN bun db:generate

EXPOSE 5000
CMD ["bun", "run", "index.ts"]
